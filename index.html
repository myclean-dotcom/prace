<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Калькулятор уборки - Расчёт стоимости</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #2d89ef;
        }

        h1 {
            color: #2d89ef;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .price-note {
            background: #fff3cd;
            border: 1px solid #ffecb5;
            border-radius: 8px;
            padding: 12px;
            margin-top: 15px;
            font-size: 0.95rem;
            color: #856404;
        }

        .calculator-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 900px) {
            .calculator-container {
                grid-template-columns: 1fr;
            }
        }

        .calculator-form {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .calculator-result {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h2 {
            color: #2d89ef;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            align-items: center;
        }

        h2 i {
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
        }

        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #2d89ef;
        }

        .radio-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            background: #f9f9f9;
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .radio-option:hover {
            background: #f0f7ff;
        }

        .radio-option.selected {
            background: #e8f4ff;
            border-color: #2d89ef;
        }

        input[type="radio"] {
            display: none;
        }

        .custom-radio {
            width: 20px;
            height: 20px;
            border: 2px solid #ccc;
            border-radius: 50%;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .radio-option.selected .custom-radio {
            border-color: #2d89ef;
            background-color: #2d89ef;
        }

        .custom-radio:after {
            content: '';
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: white;
            display: none;
        }

        .radio-option.selected .custom-radio:after {
            display: block;
        }

        .radio-label {
            cursor: pointer;
            flex-grow: 1;
        }

        .range-container {
            margin-top: 15px;
        }

        .range-value {
            font-weight: bold;
            color: #2d89ef;
            font-size: 1.1rem;
            display: inline-block;
            background: #f0f7ff;
            padding: 5px 15px;
            border-radius: 20px;
            margin-bottom: 10px;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #ddd;
            outline: none;
            margin-top: 10px;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #2d89ef;
            cursor: pointer;
        }

        .inline-fields {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .inline-field {
            display: flex;
            flex-direction: column;
        }

        .inline-field label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }

        .inline-field input {
            padding: 10px;
            font-size: 0.95rem;
        }

        .difficulty-slider {
            margin-top: 20px;
        }

        .difficulty-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #666;
        }

        .difficulty-label {
            text-align: center;
            padding: 5px;
        }

        .difficulty-label.active {
            color: #2d89ef;
            font-weight: 600;
            background: #f0f7ff;
            border-radius: 8px;
        }

        .difficulty-description {
            margin-top: 15px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            font-size: 0.9rem;
            color: #666;
            border-left: 3px solid #2d89ef;
        }

        .total-price {
            text-align: center;
            margin: 20px 0;
        }

        .price {
            font-size: 3.5rem;
            font-weight: 700;
            color: #2d89ef;
            margin: 10px 0;
        }

        .price-min {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        .price-breakdown {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .breakdown-item:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 1.1rem;
            color: #2d89ef;
            padding-top: 12px;
            margin-top: 5px;
            border-top: 2px solid #eee;
        }

        .breakdown-label {
            color: #666;
        }

        .breakdown-value {
            font-weight: 600;
        }

        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-calculate {
            background: #2d89ef;
            color: white;
        }

        .btn-calculate:hover {
            background: #1a7ae0;
            transform: translateY(-2px);
        }

        .btn-reset {
            background: #f0f0f0;
            color: #333;
        }

        .btn-reset:hover {
            background: #e0e0e0;
            transform: translateY(-2px);
        }

        .info-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-top: 40px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 20px;
        }

        .info-card {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #2d89ef;
        }

        .info-card h3 {
            color: #2d89ef;
            margin-bottom: 10px;
        }

        .price-list {
            list-style: none;
            padding: 0;
            margin-top: 15px;
        }

        .price-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .price-list li:last-child {
            border-bottom: none;
        }

        .service-name {
            color: #555;
        }

        .service-price {
            color: #2d89ef;
            font-weight: 600;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
        }

        .required-field::after {
            content: " *";
            color: #ff4757;
        }

        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            color: #2d89ef;
            cursor: help;
        }

        .tooltip-text {
            visibility: hidden;
            width: 250px;
            background-color: #333;
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
            font-weight: normal;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-calculator"></i> Калькулятор стоимости уборки</h1>
            <p class="subtitle">Рассчитайте предварительную стоимость уборки онлайн. Цены указаны "от" и являются ориентировочными. Точную стоимость рассчитает менеджер после осмотра помещения.</p>
            <div class="price-note">
                <i class="fas fa-info-circle"></i> Все цены указаны без НДС. В стоимость входит: выезд мастеров, работа, химические средства и оборудование.
            </div>
        </header>

        <div class="calculator-container">
            <div class="calculator-form">
                <h2><i class="fas fa-cog"></i> Параметры уборки</h2>
                
                <div class="form-group">
                    <label class="required-field">Тип уборки</label>
                    <div class="radio-group" id="cleaningType">
                        <div class="radio-option selected" data-value="maintenance" data-price="80">
                            <div class="custom-radio"></div>
                            <span class="radio-label">Поддерживающая<br><small>от 80 руб/м²</small></span>
                        </div>
                        <div class="radio-option" data-value="general" data-price="100">
                            <div class="custom-radio"></div>
                            <span class="radio-label">Генеральная<br><small>от 100 руб/м²</small></span>
                        </div>
                        <div class="radio-option" data-value="post-renovation" data-price="150">
                            <div class="custom-radio"></div>
                            <span class="radio-label">После ремонта<br><small>от 150 руб/м²</small></span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="required-field">Тип помещения</label>
                    <select id="roomType">
                        <option value="apartment" selected>Квартира</option>
                        <option value="office">Офис</option>
                        <option value="house">Дом</option>
                        <option value="industrial">Производственное помещение</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="required-field">Площадь помещения (м²)</label>
                    <input type="range" id="apartmentSize" min="10" max="500" value="60" step="1">
                    <div class="range-container">
                        <span class="range-value" id="sizeValue">60 м²</span>
                        <input type="number" id="apartmentSizeInput" min="10" max="1000" value="60" step="1" style="width: 100px; padding: 8px;">
                    </div>
                </div>

                <div class="form-group">
                    <label>Коэффициент сложности</label>
                    <div class="difficulty-slider">
                        <input type="range" id="difficulty" min="1" max="10" value="1" step="1">
                        <div class="difficulty-labels">
                            <div class="difficulty-label active" data-value="1">1<br><small>Обычная</small></div>
                            <div class="difficulty-label" data-value="5">5<br><small>+55%</small></div>
                            <div class="difficulty-label" data-value="10">10<br><small>+100%</small></div>
                        </div>
                        <div class="difficulty-description" id="difficultyDescription">
                            <strong>Уровень 1</strong>: Стандартная уборка, нормальный уровень загрязнения
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Дополнительные услуги</label>
                    <div class="inline-fields">
                        <div class="inline-field">
                            <label>Окна (створки)</label>
                            <input type="number" id="windowsCount" min="0" value="0" placeholder="Количество">
                        </div>
                        <div class="inline-field">
                            <label>Тип мойки окон</label>
                            <select id="windowsType">
                                <option value="200">С одной стороны (200 руб/створка)</option>
                                <option value="400">С двух сторон (400 руб/створка)</option>
                            </select>
                        </div>
                    </div>

                    <div class="inline-fields" style="margin-top: 15px;">
                        <div class="inline-field">
                            <label>Шкафы (шт)</label>
                            <input type="number" id="cabinetsCount" min="0" value="0" placeholder="Количество">
                        </div>
                        <div class="inline-field">
                            <label>Холодильники (шт)</label>
                            <input type="number" id="fridgeCount" min="0" value="0" placeholder="Количество">
                        </div>
                    </div>

                    <div class="inline-fields" style="margin-top: 15px;">
                        <div class="inline-field">
                            <label>Духовые шкафы (шт)</label>
                            <input type="number" id="ovenCount" min="0" value="0" placeholder="Количество">
                        </div>
                        <div class="inline-field">
                            <label>Вытяжки (шт)</label>
                            <input type="number" id="hoodCount" min="0" value="0" placeholder="Количество">
                        </div>
                    </div>

                    <div class="inline-fields" style="margin-top: 15px;">
                        <div class="inline-field">
                            <label>Чайники/Кофемашины (шт)</label>
                            <input type="number" id="appliancesCount" min="0" value="0" placeholder="Количество">
                        </div>
                        <div class="inline-field">
                            <label>Обеспыливание потолков</label>
                            <select id="dustingCeiling">
                                <option value="0">Нет</option>
                                <option value="1">Да (от 20 руб/м²)</option>
                            </select>
                        </div>
                    </div>

                    <div class="inline-fields" style="margin-top: 15px;">
                        <div class="inline-field">
                            <label>Обеспыливание стен</label>
                            <select id="dustingWalls">
                                <option value="0">Нет</option>
                                <option value="1">Да (от 20 руб/м²)</option>
                            </select>
                        </div>
                        <div class="inline-field">
                            <label>Дальний выезд</label>
                            <select id="farTrip">
                                <option value="0">Нет</option>
                                <option value="1000">Да (+1000 руб)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="buttons">
                    <button class="btn-calculate" id="calculateBtn"><i class="fas fa-calculator"></i> Рассчитать стоимость</button>
                    <button class="btn-reset" id="resetBtn"><i class="fas fa-redo"></i> Сбросить</button>
                </div>
            </div>

            <div class="calculator-result">
                <h2><i class="fas fa-receipt"></i> Итоговая стоимость</h2>
                <div class="total-price">
                    <div>Ориентировочная стоимость:</div>
                    <div class="price" id="totalPrice">0 руб</div>
                    <div class="price-min">*Минимальная сумма заказа: 3 500 руб</div>
                </div>

                <div class="price-breakdown">
                    <div class="breakdown-item">
                        <span class="breakdown-label">Базовая уборка:</span>
                        <span class="breakdown-value" id="basePrice">0 руб</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Доп. услуги:</span>
                        <span class="breakdown-value" id="extraPrice">0 руб</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Коэффициент сложности:</span>
                        <span class="breakdown-value" id="difficultyPrice">+0%</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Дальний выезд:</span>
                        <span class="breakdown-value" id="tripPrice">0 руб</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Итоговая стоимость:</span>
                        <span class="breakdown-value" id="finalPrice">0 руб</span>
                    </div>
                </div>

                <div style="margin-top: 20px; padding: 15px; background: #e8f4ff; border-radius: 8px; font-size: 0.9rem;">
                    <strong><i class="fas fa-info-circle"></i> Важно:</strong> Это предварительный расчет. Точную стоимость рассчитает менеджер после оценки фото или выезда на объект.
                </div>
            </div>
        </div>

        <div class="info-section">
            <h2><i class="fas fa-list-alt"></i> Тарифы и услуги</h2>
            <div class="info-grid">
                <div class="info-card">
                    <h3>Основные типы уборки</h3>
                    <ul class="price-list">
                        <li>
                            <span class="service-name">Поддерживающая</span>
                            <span class="service-price">от 80 руб/м²</span>
                        </li>
                        <li>
                            <span class="service-name">Генеральная</span>
                            <span class="service-price">от 100 руб/м²</span>
                        </li>
                        <li>
                            <span class="service-name">После ремонта</span>
                            <span class="service-price">от 150 руб/м²</span>
                        </li>
                    </ul>
                </div>

                <div class="info-card">
                    <h3>Дополнительные услуги</h3>
                    <ul class="price-list">
                        <li>
                            <span class="service-name">Мытьё окон (1 сторона)</span>
                            <span class="service-price">от 200 руб/створка</span>
                        </li>
                        <li>
                            <span class="service-name">Мытьё окон (2 стороны)</span>
                            <span class="service-price">от 400 руб/створка</span>
                        </li>
                        <li>
                            <span class="service-name">Мытьё шкафов</span>
                            <span class="service-price">от 250 руб/шт</span>
                        </li>
                        <li>
                            <span class="service-name">Холодильник</span>
                            <span class="service-price">от 600 руб/шт</span>
                        </li>
                    </ul>
                </div>

                <div class="info-card">
                    <h3>Бытовая техника</h3>
                    <ul class="price-list">
                        <li>
                            <span class="service-name">Духовой шкаф</span>
                            <span class="service-price">от 500 руб/шт</span>
                        </li>
                        <li>
                            <span class="service-name">Вытяжка</span>
                            <span class="service-price">от 300 руб/шт</span>
                        </li>
                        <li>
                            <span class="service-name">Чайник/Кофемашина</span>
                            <span class="service-price">от 100 руб/шт</span>
                        </li>
                        <li>
                            <span class="service-name">Обеспыливание</span>
                            <span class="service-price">от 20 руб/м²</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                <h3><i class="fas fa-calculator"></i> О коэффициенте сложности</h3>
                <p>Коэффициент позволяет гибко настроить стоимость в зависимости от:</p>
                <ul style="margin-top: 10px; padding-left: 20px; columns: 2;">
                    <li>Степени загрязнения</li>
                    <li>Количества мебели</li>
                    <li>Высоты потолков</li>
                    <li>Сложности доступа</li>
                    <li>Наличия животных</li>
                    <li>Особых требований</li>
                </ul>
            </div>
        </div>

        <footer>
            <p>© 2023 Клининг-сервис. Калькулятор стоимости уборки.</p>
            <p style="margin-top: 5px; font-size: 0.8rem;">Все цены указаны "от" и являются ориентировочными. Точную стоимость рассчитывает менеджер.</p>
        </footer>
    </div>

    <script>
        // Цены согласно вашим данным
        const priceConfig = {
            // Основные типы уборки (руб/м²)
            cleaningTypes: {
                'maintenance': 80,      // Поддерживающая
                'general': 100,         // Генеральная
                'post-renovation': 150  // После ремонта
            },
            
            // Дополнительные услуги
            extras: {
                'windows': {            // Окна
                    '200': 200,         // С одной стороны
                    '400': 400          // С двух сторон
                },
                'cabinets': 250,        // Шкафы (руб/шт)
                'fridge': 600,          // Холодильник (руб/шт)
                'oven': 500,            // Духовой шкаф (руб/шт)
                'hood': 300,            // Вытяжка (руб/шт)
                'appliances': 100,      // Чайник/Кофемашина (руб/шт)
                'dustingCeiling': 20,   // Обеспыливание потолков (руб/м²)
                'dustingWalls': 20,     // Обеспыливание стен (руб/м²)
                'farTrip': 1000         // Дальний выезд
            },
            
            // Минимальная сумма заказа
            minOrder: 3500,
            
            // Коэффициент сложности
            difficulty: {
                1: 1.0,   // +0%
                2: 1.1,   // +10%
                3: 1.2,   // +20%
                4: 1.3,   // +30%
                5: 1.55,  // +55% (специально для уровня 5)
                6: 1.65,  // +65%
                7: 1.75,  // +75%
                8: 1.85,  // +85%
                9: 1.95,  // +95%
                10: 2.0   // +100%
            },
            
            // Описания для коэффициента сложности
            difficultyDescriptions: {
                1: "Стандартная уборка, нормальный уровень загрязнения, обычная планировка",
                2: "Легкое загрязнение, стандартная меблировка",
                3: "Среднее загрязнение, наличие домашних животных",
                4: "Сильное загрязнение, много мебели и предметов",
                5: "Очень сильное загрязнение, сложная планировка",
                6: "Загрязнение после строительства, пыль",
                7: "Сильные загрязнения (жир, плесень), сложный доступ",
                8: "Очень сложные условия, много нюансов",
                9: "Экстремальное загрязнение, особые требования",
                10: "Самые сложные случаи, требует особого подхода"
            }
        };

        // DOM элементы
        const cleaningTypeOptions = document.querySelectorAll('#cleaningType .radio-option');
        const roomTypeSelect = document.getElementById('roomType');
        const sizeSlider = document.getElementById('apartmentSize');
        const sizeInput = document.getElementById('apartmentSizeInput');
        const sizeValue = document.getElementById('sizeValue');
        const difficultySlider = document.getElementById('difficulty');
        const difficultyLabels = document.querySelectorAll('.difficulty-label');
        const difficultyDescription = document.getElementById('difficultyDescription');
        
        // Дополнительные услуги
        const windowsCount = document.getElementById('windowsCount');
        const windowsType = document.getElementById('windowsType');
        const cabinetsCount = document.getElementById('cabinetsCount');
        const fridgeCount = document.getElementById('fridgeCount');
        const ovenCount = document.getElementById('ovenCount');
        const hoodCount = document.getElementById('hoodCount');
        const appliancesCount = document.getElementById('appliancesCount');
        const dustingCeiling = document.getElementById('dustingCeiling');
        const dustingWalls = document.getElementById('dustingWalls');
        const farTrip = document.getElementById('farTrip');
        
        // Кнопки
        const calculateBtn = document.getElementById('calculateBtn');
        const resetBtn = document.getElementById('resetBtn');
        
        // Элементы для отображения результатов
        const basePriceEl = document.getElementById('basePrice');
        const extraPriceEl = document.getElementById('extraPrice');
        const difficultyPriceEl = document.getElementById('difficultyPrice');
        const tripPriceEl = document.getElementById('tripPrice');
        const finalPriceEl = document.getElementById('finalPrice');
        const totalPriceEl = document.getElementById('totalPrice');

        // Текущие значения
        let currentCleaningType = 'maintenance';
        let currentSize = 60;
        let currentDifficulty = 1;
        let currentRoomType = 'apartment';

        // Инициализация
        document.addEventListener('DOMContentLoaded', function() {
            updatePrice();
            
            // Обработчик для типа уборки
            cleaningTypeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    cleaningTypeOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    currentCleaningType = this.getAttribute('data-value');
                    updatePrice();
                });
            });

            // Обработчик для типа помещения
            roomTypeSelect.addEventListener('change', function() {
                currentRoomType = this.value;
                updatePrice();
            });

            // Обработчик для площади (слайдер)
            sizeSlider.addEventListener('input', function() {
                currentSize = parseInt(this.value);
                sizeInput.value = currentSize;
                sizeValue.textContent = `${currentSize} м²`;
                updatePrice();
            });

            // Обработчик для площади (инпут)
            sizeInput.addEventListener('input', function() {
                let value = parseInt(this.value) || 10;
                if (value < 10) value = 10;
                if (value > 1000) value = 1000;
                
                currentSize = value;
                sizeSlider.value = value;
                sizeInput.value = value;
                sizeValue.textContent = `${value} м²`;
                updatePrice();
            });

            // Обработчик для коэффициента сложности
            difficultySlider.addEventListener('input', function() {
                currentDifficulty = parseInt(this.value);
                updateDifficultyLabels();
                updatePrice();
            });

            // Обработчики для всех дополнительных услуг
            const allInputs = [
                windowsCount, windowsType, cabinetsCount, fridgeCount, 
                ovenCount, hoodCount, appliancesCount, dustingCeiling, 
                dustingWalls, farTrip
            ];
            
            allInputs.forEach(input => {
                input.addEventListener('change', updatePrice);
                input.addEventListener('input', updatePrice);
            });

            // Обработчик кнопки сброса
            resetBtn.addEventListener('click', function() {
                // Сброс типа уборки
                cleaningTypeOptions.forEach(opt => opt.classList.remove('selected'));
                document.querySelector('#cleaningType .radio-option').classList.add('selected');
                currentCleaningType = 'maintenance';
                
                // Сброс типа помещения
                roomTypeSelect.value = 'apartment';
                currentRoomType = 'apartment';
                
                // Сброс площади
                sizeSlider.value = 60;
                sizeInput.value = 60;
                currentSize = 60;
                sizeValue.textContent = '60 м²';
                
                // Сброс коэффициента сложности
                difficultySlider.value = 1;
                currentDifficulty = 1;
                updateDifficultyLabels();
                
                // Сброс дополнительных услуг
                windowsCount.value = 0;
                windowsType.value = 200;
                cabinetsCount.value = 0;
                fridgeCount.value = 0;
                ovenCount.value = 0;
                hoodCount.value = 0;
                appliancesCount.value = 0;
                dustingCeiling.value = 0;
                dustingWalls.value = 0;
                farTrip.value = 0;
                
                updatePrice();
            });

            // Инициализация меток коэффициента сложности
            updateDifficultyLabels();
        });

        // Обновление меток коэффициента сложности
        function updateDifficultyLabels() {
            difficultyLabels.forEach(label => {
                const value = parseInt(label.getAttribute('data-value'));
                label.classList.toggle('active', value === currentDifficulty);
            });
            
            // Обновление описания
            const percentage = Math.round((priceConfig.difficulty[currentDifficulty] - 1) * 100);
            difficultyDescription.innerHTML = `
                <strong>Уровень ${currentDifficulty}</strong>: ${priceConfig.difficultyDescriptions[currentDifficulty]}<br>
                <small>Наценка: +${percentage}% к стоимости</small>
            `;
        }

        // Форматирование чисел с пробелами
        function formatPrice(price) {
            return Math.round(price).toLocaleString('ru-RU') + ' руб';
        }

        // Функция расчета и обновления цены
        function updatePrice() {
            // 1. Базовая стоимость уборки
            let basePrice = priceConfig.cleaningTypes[currentCleaningType] * currentSize;
            
            // 2. Дополнительные услуги
            let extraPrice = 0;
            
            // Окна
            const windowsPrice = parseInt(windowsType.value);
            extraPrice += (windowsCount.value || 0) * windowsPrice;
            
            // Шкафы
            extraPrice += (cabinetsCount.value || 0) * priceConfig.extras.cabinets;
            
            // Бытовая техника
            extraPrice += (fridgeCount.value || 0) * priceConfig.extras.fridge;
            extraPrice += (ovenCount.value || 0) * priceConfig.extras.oven;
            extraPrice += (hoodCount.value || 0) * priceConfig.extras.hood;
            extraPrice += (appliancesCount.value || 0) * priceConfig.extras.appliances;
            
            // Обеспыливание
            if (dustingCeiling.value === '1') {
                extraPrice += currentSize * priceConfig.extras.dustingCeiling;
            }
            if (dustingWalls.value === '1') {
                // Для стен берем примерную площадь (высота 2.5м * периметр)
                const wallsArea = currentSize * 2.5; // Приблизительный расчет
                extraPrice += wallsArea * priceConfig.extras.dustingWalls;
            }
            
            // Дальний выезд
            let tripPrice = farTrip.value === '1000' ? priceConfig.extras.farTrip : 0;
            
            // 3. Общая стоимость до коэффициента
            let subtotal = basePrice + extraPrice;
            
            // 4. Применяем минимальную сумму заказа
            if (subtotal < priceConfig.minOrder) {
                subtotal = priceConfig.minOrder;
            }
            
            // 5. Применяем коэффициент сложности
            const difficultyMultiplier = priceConfig.difficulty[currentDifficulty];
            let priceWithDifficulty = subtotal * difficultyMultiplier;
            
            // 6. Добавляем дальний выезд (после коэффициента)
            let finalPrice = priceWithDifficulty + tripPrice;
            
            // 7. Форматируем и отображаем
            basePriceEl.textContent = formatPrice(basePrice);
            extraPriceEl.textContent = formatPrice(extraPrice);
            
            const difficultyPercentage = Math.round((difficultyMultiplier - 1) * 100);
            difficultyPriceEl.textContent = `+${difficultyPercentage}%`;
            
            tripPriceEl.textContent = formatPrice(tripPrice);
            finalPriceEl.textContent = formatPrice(finalPrice);
            totalPriceEl.textContent = formatPrice(finalPrice);
        }
    </script>
</body>
</html>
